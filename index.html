<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Live Stream Dashboard</title>
  <style>
    /* Basic styles for layout */
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #ffffff;
    }
    #login-screen, #dashboard, #stream-view {
      display: none;
      padding: 20px;
    }
    #dashboard, #stream-view {
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    #streams-list {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 10px;
    }
    .stream-card {
      background: #222;
      padding: 10px;
      width: 220px;
      border-radius: 6px;
      cursor: pointer;
      box-shadow: 0 0 10px #000;
      display: flex;
      flex-direction: column;
    }
    .stream-card img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 4px;
    }
    .stream-card h3 {
      margin: 8px 0 4px 0;
      font-size: 1.1rem;
      color: #00ff99;
    }
    .stream-card p {
      margin: 0;
      font-size: 0.9rem;
      color: #ccc;
      flex-grow: 1;
    }
    #create-stream-form {
      background: #222;
      padding: 15px;
      border-radius: 6px;
      margin-top: 15px;
      max-width: 400px;
    }
    #create-stream-form input, #create-stream-form textarea {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: none;
      border-radius: 4px;
      background: #333;
      color: #eee;
      font-size: 1rem;
    }
    #create-stream-form label {
      font-weight: 600;
      margin-bottom: 5px;
      display: block;
    }
    #chat {
      background: #1e1e1e;
      border-radius: 6px;
      padding: 10px;
      width: 300px;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    #messages {
      flex: 1;
      overflow-y: auto;
      background: #121212;
      border-radius: 6px;
      padding: 12px;
      font-size: 14px;
      line-height: 1.4;
      box-shadow: inset 0 0 10px #000;
      margin-bottom: 10px;
    }
    .chat-message {
      margin-bottom: 8px;
    }
    .chat-message strong {
      color: #00ff99;
    }
    #input-area {
      display: flex;
      gap: 8px;
    }
    #msgInput {
      flex: 1;
      padding: 8px 12px;
      border-radius: 6px;
      border: none;
      background: #222;
      color: #eee;
    }
    #msgInput:focus {
      outline: none;
      background: #333;
    }
    #sendBtn {
      padding: 8px 20px;
      border-radius: 6px;
      background: #007bff;
      font-weight: 600;
      border: none;
      cursor: pointer;
    }
    #sendBtn:hover {
      background: #0056b3;
    }
    #streamVideo {
      width: 100%;
      max-height: 480px;
      background: #000;
      margin-bottom: 10px;
    }
    #logoutBtn {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #d33;
      border: none;
      border-radius: 4px;
      padding: 8px 12px;
      font-weight: 600;
      cursor: pointer;
    }
    #stream-container {
      display: flex;
      flex: 1;
    }
    #video-section {
      flex: 1;
      padding: 10px;
    }
    #controls {
      margin-top: 10px;
    }
    button {
      background: #3a3a3a;
      border: none;
      color: #eee;
      padding: 10px 15px;
      cursor: pointer;
      border-radius: 4px;
      font-weight: 600;
      margin: 5px 0;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #007bff;
    }
  </style>
</head>
<body>

<!-- LOGIN SCREEN -->
<div id="login-screen">
  <button id="loginBtn">Sign in with Google</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard">
  <h1>Live Streams</h1>
  <div id="streams-list"></div>

  <!-- Only show this to owner -->
  <div id="create-stream-form" style="display:none;">
    <h2>Create New Stream</h2>
    <label for="streamName">Stream Name</label>
    <input id="streamName" type="text" placeholder="Enter stream name" />
    <label for="streamDesc">Description</label>
    <textarea id="streamDesc" rows="3" placeholder="Stream description"></textarea>
    <label for="streamThumb">Thumbnail Image</label>
    <input id="streamThumb" type="file" accept="image/*" />
    <button id="createStreamBtn">Create Stream</button>
  </div>

  <button id="logoutBtn">Logout</button>
</div>

<!-- STREAM VIEW -->
<div id="stream-view">
  <button id="backBtn">‚Üê Back to Dashboard</button>
  <h2 id="streamTitle"></h2>
  <div id="stream-container">
    <div id="video-section">
      <video id="streamVideo" controls autoplay muted></video>
      <div id="controls" style="display:none;">
        <button id="toggleMicBtn">Toggle Mic</button>
        <button id="toggleCamBtn">Toggle Camera</button>
      </div>
    </div>
    <div id="chat">
      <div id="messages"><em>Loading chat...</em></div>
      <div id="input-area" style="display:none;">
        <input id="msgInput" type="text" placeholder="Type your message..." autocomplete="off" />
        <button id="sendBtn">Send</button>
      </div>
    </div>
  </div>
</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>

<script>
  // Config - replace with your Firebase project config
  const firebaseConfig = {
    apiKey: "AIzaSyCq74S-8b4maDXEKkDXwoaz28Y_Qf0N_34",
    authDomain: "livestreamchat-268a9.firebaseapp.com",
    databaseURL: "https://livestreamchat-268a9-default-rtdb.firebaseio.com",
    projectId: "livestreamchat-268a9",
    storageBucket: "livestreamchat-268a9.appspot.com",
    messagingSenderId: "761482927725",
    appId: "1:761482927725:web:7d525941da69c424bb6964"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.database();
  const storage = firebase.storage();

  const OWNER_EMAIL = "realgyjs@gmail.com";

  // UI Elements
  const loginScreen = document.getElementById('login-screen');
  const loginBtn = document.getElementById('loginBtn');

  const dashboard = document.getElementById('dashboard');
  const streamsList = document.getElementById('streams-list');
  const createForm = document.getElementById('create-stream-form');
  const streamNameInput = document.getElementById('streamName');
  const streamDescInput = document.getElementById('streamDesc');
  const streamThumbInput = document.getElementById('streamThumb');
  const createStreamBtn = document.getElementById('createStreamBtn');
  const logoutBtn = document.getElementById('logoutBtn');

  const streamView = document.getElementById('stream-view');
  const backBtn = document.getElementById('backBtn');
  const streamTitle = document.getElementById('streamTitle');
  const streamDescText = document.getElementById('streamDescText');
  const streamVideo = document.getElementById('streamVideo');

  // Chat UI
  const messagesDiv = document.getElementById('messages');
  const inputArea = document.getElementById('input-area');
  const msgInput = document.getElementById('msgInput');
  const sendBtn = document.getElementById('sendBtn');

  const controlsDiv = document.getElementById('controls');
  const toggleMicBtn = document.getElementById('toggleMicBtn');
  const toggleCamBtn = document.getElementById('toggle
::contentReference[oaicite:25]{index=25}
 
